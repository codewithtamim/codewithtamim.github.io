---
import { Badge } from '@/components/ui/badge'
import { Icon } from 'astro-icon/components'
import type { CollectionEntry } from 'astro:content'

interface Props {
  experience: CollectionEntry<'experience'>
}

const { experience } = Astro.props
---

<div
  class="hover:bg-secondary/50 rounded-xl border p-4 transition-colors duration-300 ease-in-out"
>
  <div class="flex flex-col gap-3">
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
      <div>
        <h3 class="text-lg font-medium">
          {experience.data.title}
        </h3>
        <p class="text-muted-foreground text-sm">
          {experience.data.company} • {experience.data.location}
        </p>
      </div>
      <div class="flex items-center gap-2">
        <Badge variant="outline">{experience.data.type}</Badge>
      </div>
    </div>
    
    <div class="text-muted-foreground/70 flex items-center gap-x-1.5 text-xs">
      <Icon name="lucide:calendar" class="size-3" />
      <span>
        {experience.data.startDate}
        {experience.data.endDate ? ` – ${experience.data.endDate}` : ''}
      </span>
    </div>

    <p class="text-muted-foreground text-sm">
      {experience.data.description}
    </p>

    {
      experience.data.technologies && (
        <div class="flex flex-wrap gap-2">
          {experience.data.technologies.map((tech: string) => (
            <Badge variant="secondary">{tech}</Badge>
          ))}
        </div>
      )
    }
  </div>
</div>
